# Чаты в виджете.
 ## Расширение сущности чата.
   ### Женя
- Добавить чату поле is_support
## Расширение сущности сообщения чата.
   ### Женя
- Добавить сообщению поле is_support

## Расиширть сущность проекта в портале.
   ### Дима Вернигоров
   - добавить поле project_chat_id
   - добавить поле support_chats

 ## Валидация чата в оптике.
### Женя
- Добавить ендпоинт для валидации наличия и доступности чата по id. Проверять наличие чата по id.
### Влад
- Получать id чата и пробрасывать его в валидацию в оптике


## Создание чата из портала.
### Женя
- Добавить ендпоинт на создание чата из портала
### Влад
- В случае если id чата не пришел с портала или не прошла валидация, вызывать создание чата, после создания чата обновлять поля проекта в портале через апи и подключаться к нему.

 ## Подключение к чату из портала.
### Женя
- Добавить ендпоинт для подключения к чату из портала
### Влад
- Написать вебсокет клиент для подключения к чату на стороннее апи


## UI виджета.
### Влад
- Разделить чаты на три вкладки, AI, Проектный, Саппорт
- Добавить отображение результатов валидации/создания чатов, ошибки, например если нет прав на создание проектного чата


# Поинты для портала.
### Дима Вернигоров
- Поинт для добавления/обновления поля project_chat_id у проекта
- Поинт для добавления/обновления поля support_chats у проекта

# UI оптика.
## Переработка ролей
### Женя
- Добавить возможность расширяющихся ролей, по типу что один пользователь может принадлежать нескольким ролям одновременно

## Список чатов
### Женя
  - Переделать поинт на получение чатов, добавить чату поле is_answered, просто чаты с is_support = true, проверяем последнее сообщение не is_support, отдавать чаты с is_support только если есть роль саппорта
### Дима Морозов
- Разделить чаты на обычные и чаты саппорта
- Добавить отображение чата с неотработанными вопросами



![Схема](chats.drawio.svg)